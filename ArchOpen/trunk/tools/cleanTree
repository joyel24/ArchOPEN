if [ -n "$1" ]; then
	cd $1
	rm -f *.d *~ chip arch
	for file in *; do		
		if [ -d $file ]; then
            if [ $file == "build" ]; then
                rm -Rf build
            else      
			    $0 $file;
            fi         
		fi
	done
	cd ..
else
	make clean
	make -C apps/ clean
    make -C tools/bin2exploit clean
    make -C tools/buildTools clean
    rm -f medios/api/api.c
    rm -f include/api.h
    rm -f medios/kernel/api_fct_list.h
    rm -f medios/include/kernel/version_svn.h
    rm -f *.lds *.conf *.out
    rm -Rf lib
    rm -Rf codec
    $0 ./;
fi
