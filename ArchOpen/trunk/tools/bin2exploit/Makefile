# Include global definitions
include ../../Makefile.conf

# templates
400fw2110wav.tpl: 400fw2110loader.bin
	@echo "[$@]"
	@cp 400fw2110wav.hdr 400fw2110wav.tpl
	@dd if=400fw2110loader.bin of=400fw2110wav.tpl bs=3120500 seek=1 2> /dev/null

402fw1311avi.tpl: 402fw1311loader.bin 402ccfw1311loader.bin
	@echo "[$@]"
	@cp 402fw1311avi.hdr 402fw1311avi.tpl
	@dd if=402ccfw1311loader.bin of=402fw1311avi.tpl bs=11743232 seek=1 2> /dev/null
	@dd if=402fw1311loader.bin of=402fw1311avi.tpl bs=11897600 seek=1 2> /dev/null

av400avi.tpl: av400loader.bin
	@echo "[$@]"
	@cp av400avi.hdr av400avi.tpl
	@dd if=av400loader.bin of=av400avi.tpl bs=2755786 seek=1 2> /dev/null
	
av500fw1312avi.tpl: av500fw1312loader.bin
	@echo "[$@]"
	@cp av400avi.hdr av500fw1312avi.tpl
	@dd if=av500fw1312loader.bin of=av500fw1312avi.tpl bs=10647968 seek=1 2> /dev/null
                
%.bin:%.o
	@$(OBJCOPY) -O binary $< $@
            
include ../../default.rule
